{"version":3,"sources":["core/game.ts"],"names":[],"mappings":"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","file":"core/game.js","sourcesContent":["/*\nAuthor: Christine Cho, Douglas Krein, Francis Ofougwuka\nLast Modified by: Christine Cho\nLast Modified: 04/10/2016\nFile description: Manages assets and scene changes\n\nRevision:\n1. Added the Instructions and more images\n2. Added Gameover image and hit/collect sounds\n3. Added sounds to the scenes\n4. Added exit button asset\n5. Added Stalactite asset\n6. Removed sounds from here, changed for scenes\n*/\n\n/// <reference path = \"_reference.ts\" />\n\n// global variables\nvar assets: createjs.LoadQueue;\nvar canvas: HTMLElement;\nvar stage: createjs.Stage;\nvar stats: Stats;\n\nvar currentScene: objects.Scene;\nvar scene: number;\n\n// Game Scenes\nvar menu: scenes.Menu;\nvar instruction: scenes.Instruction;\nvar end: scenes.End;\nvar level1: scenes.Level1;\nvar level2: scenes.Level2;\nvar level3: scenes.Level3;\n\n//GameController\nvar gameController: managers.DragonGameController;\n\nvar assetData: objects.Asset[] = [\n    // Add your Assets here\n    //Buttons\n    { id: \"StartButton\", src: \"../../Assets/images/StartButton.png\" },\n    { id: \"InstructionButton\", src: \"../../Assets/images/InstructionButton.png\" },\n    { id: \"RestartButton\", src: \"../../Assets/images/RestartButton.png\" },\n    { id: \"BackButton\", src: \"../../Assets/images/BackButton.png\" },\n    { id: \"ExitButton\", src: \"../../Assets/images/ExitButton.png\" },\n    \n    //backgrounds\n    { id: \"menuBackground\", src: \"../../Assets/images/menuBackground.png\" },\n    { id: \"instructionBackground\", src: \"../../Assets/images/instructionBackground.png\" },\n    { id: \"gameOverBackground\", src: \"../../Assets/images/gameOverBackground.png\" },\n    { id: \"level1Background\", src: \"../../Assets/images/level1Background.png\" },\n    { id: \"level2Background\", src: \"../../Assets/images/level2Background.png\" },\n    \n    //player\n    { id: \"playerBaby\", src: \"../../Assets/images/playerBaby.png\" },\n    { id: \"player\", src: \"../../Assets/images/player.png\" },\n    \n    //Enemies and Hazards\n    { id: \"dragonEnemy1\", src: \"../../Assets/images/dragonEnemy1.png\" },\n    { id: \"dragonEnemy2\", src: \"../../Assets/images/dragonEnemy2.png\" },\n    { id: \"dragonEnemy3\", src: \"../../Assets/images/dragonEnemy3.png\" },\n    { id: \"dragonEnemy4\", src: \"../../Assets/images/dragonEnemy4.png\" },\n    { id: \"stalactite\", src: \"../../Assets/images/stalactite.png\" },\n    { id: \"stalagmite\", src: \"../../Assets/images/stalagmite.png\" },\n    \n    //Collectbles \n    { id: \"fire\", src: \"../../Assets/images/fire.png\" },\n    { id: \"fireball\", src: \"../../Assets/images/fireball.png\" },\n    { id: \"egg1\", src: \"../../Assets/images/egg1.png\" },\n    { id: \"egg2\", src: \"../../Assets/images/egg2.png\" },\n    { id: \"egg3\", src: \"../../Assets/images/egg3.png\" },\n    { id: \"egg4\", src: \"../../Assets/images/egg4.png\" },\n    \n    //collision musics\n    { id: \"hit\", src: \"../../Assets/audio/hit.mp3\" },\n    { id: \"collect\", src: \"../../Assets/audio/collect.mp3\" },\n    \n    //background musics\n    { id: \"gameOverBgMusic\", src: \"../../Assets/audio/gameover.mp3\" },\n    { id: \"menuBgMusic\", src: \"../../Assets/audio/opening.mp3\" },\n    { id: \"gameBgMusic\", src: \"../../Assets/audio/background.mp3\" }\n];\n\nfunction preload() {\n    assets = new createjs.LoadQueue();\n    assets.installPlugin(createjs.Sound);\n    assets.on(\"complete\", init, this);\n    assets.loadManifest(assetData);\n}\n\nfunction init(): void {\n    // create a reference the HTML canvas Element\n    canvas = document.getElementById(\"canvas\");\n\n    // create our main display list container\n    stage = new createjs.Stage(canvas);\n\n    // Enable mouse events\n    stage.enableMouseOver(20);\n\n    // set the framerate to 60 frames per second\n    createjs.Ticker.setFPS(config.Game.FPS);\n\n    // create an event listener to count off frames\n    createjs.Ticker.on(\"tick\", gameLoop, this);\n\n    // sets up our stats counting workflow\n    setupStats();\n    \n    // Intialize DragonGameController\n    gameController = new managers.DragonGameController();\n\n    // set initial scene\n    scene = config.Scene.MENU;\n    changeScene();\n}\n\n// Main Game Loop function that handles what happens each \"tick\" or frame\nfunction gameLoop(event: createjs.Event): void {\n    // start collecting stats for this frame\n    stats.begin();\n\n    // calling State's update method\n    currentScene.update();\n\n    // redraw/refresh stage every frame\n    stage.update();\n\n    // stop collecting stats for this frame\n    stats.end();\n}\n\n// Setup Game Stats\nfunction setupStats(): void {\n    stats = new Stats();\n    stats.setMode(0); // shows fps\n    stats.domElement.style.position = \"absolute\";\n    stats.domElement.style.left = \"0px\";\n    stats.domElement.style.top = \"0px\";\n    document.body.appendChild(stats.domElement);\n}\n\n// Finite State Machine used to change Scenes\nfunction changeScene(): void {\n\n    // Launch various scenes\n    switch (scene) {\n        case config.Scene.MENU:\n            // show the MENU scene\n            stage.removeAllChildren();\n            menu = new scenes.Menu();\n            currentScene = menu;\n            console.log(\"Starting MENU Scene\");\n            break;\n        case config.Scene.INSTRUCTION:\n            // show the INSTRUCTION scene\n            stage.removeAllChildren();\n            instruction = new scenes.Instruction();\n            currentScene = instruction;\n            console.log(\"Starting INSTRUCTION Scene\");\n            break;\n        case config.Scene.PLAY:\n            // show the LEVEL1 scene\n            stage.removeAllChildren();\n            level1 = new scenes.Level1();\n            currentScene = level1;\n            console.log(\"Starting LEVEL1 Scene\");\n            break;\n        case config.Scene.LEVEL2:\n            // show the LEVEL2 scene\n            stage.removeAllChildren();\n            level2 = new scenes.Level2();\n            currentScene = level2;\n            console.log(\"Starting LEVEL2 Scene\");\n            break;\n         case config.Scene.LEVEL3:\n            // show the LEVEL3 scene\n            stage.removeAllChildren();\n            level3 = new scenes.Level3();\n            currentScene = level3;\n            console.log(\"Starting LEVEL3 Scene\");\n            break;\n        case config.Scene.END:\n            // show the END scene\n            stage.removeAllChildren();\n            end = new scenes.End();\n            currentScene = end;\n            console.log(\"Starting END Scene\");\n            break;\n\n    }\n\n}\n\nwindow.onload = preload;"],"sourceRoot":"/source/"}