{"version":3,"sources":["scenes/level1.ts"],"names":[],"mappings":"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","file":"scenes/level1.js","sourcesContent":["/*\nAuthor: Christine Cho, Douglas Krein, Francis Ofougwuka\nLast Modified by: Christine Cho\nLast Modified: 03/28/2016\nFile description: Manages the Level1 scene\n\nRevision:\n1. Added score and lives label\n2. Added score counter based on collision\n3. Added live checker to transition to gameover\n4. Renamed the class sky for background, added sounds in the right place\n5. fixed some names\n*/\n\n// Level1 SCENE\nmodule scenes {\n    export class Level1 extends objects.Scene {\n\n\n        public scoreWord: objects.Label;\n        public scoreText: objects.Label;\n        public resetCount: number;\n\n        //PRIVATE INSTANCE VARIABLES ++++++++++++\n        private _backGround: objects.BackgroundScroll;\n         private _eggs: objects.Egg[];\n        private _eggCount: number;\n        \n        private _dragonEnemy1: objects.DragonEnemy1[];\n        private _dragonEnemy1Count: number;\n        private _dragonEnemy2: objects.DragonEnemy2[];\n        private _dragonEnemy2Count: number;        \n        \n        private _player: objects.Player;\n        private _playerCollision: managers.PlayerCollision;\n        private _enemyContainer: createjs.Container;\n        private _collectableContainer: createjs.Container;\n\n        private _livesWord: objects.Label;\n        private _livesText: objects.Label;\n        private _bgSound: any;\n        private _scoreOverlay: createjs.Bitmap;\n\n        // CONSTRUCTOR ++++++++++++++++++++++\n        constructor() {\n            super();\n\n        }\n\n        // PUBLIC METHODS +++++++++++++++++++++\n\n        // Start Method\n        public start(): void {\n            createjs.Sound.stop();\n            \n            this._enemyContainer = new createjs.Container;\n            this._collectableContainer = new createjs.Container;\n            \n            // added _sky to the scene\n            this._backGround = new objects.BackgroundScroll(\"level1Background\");\n            this.addChild(this._backGround);\n            \n\n            // Set _fireballCount Count\n            this._dragonEnemy1Count = 1;\n            this._dragonEnemy2Count = 1;\n            this._eggCount = 3;\n\n            // Instantiate _fireball array\n            this._dragonEnemy1 = new Array<objects.DragonEnemy1>();\n            this._dragonEnemy2 = new Array<objects.DragonEnemy2>();\n            this._eggs = new Array<objects.Egg>();\n\n            \n\n            // added player to the scene\n            this._player = new objects.Player(\"playerBaby\");\n            this.addChild(this._player);\n\n            //added _fireball to the _collectableContainer\n            for (var count: number = 0; count < this._dragonEnemy1Count; count++) {\n                this._dragonEnemy1[count] = new objects.DragonEnemy1();\n                this._collectableContainer.addChild(this._dragonEnemy1[count]);\n            }\n\n            //added _dragon to the _enemyContainer\n            for (var count: number = 0; count < this._dragonEnemy2Count; count++) {\n                this._dragonEnemy2[count] = new objects.DragonEnemy2();\n                this._enemyContainer.addChild(this._dragonEnemy2[count]);\n            }\n\n            //added _eggs to the _collectableContainer\n            for (var egg: number = 0; egg < this._eggCount; egg++) {\n                this._eggs[egg] = new objects.Egg();\n                this._collectableContainer.addChild(this._eggs[egg]);\n            }\n\n            // added collision manager to the scene\n            this._playerCollision = new managers.PlayerCollision(this._player);\n            \n            // add this, _enemyContainer, _collectableContainer to the global stage container\n            stage.addChild(this, this._enemyContainer, this._collectableContainer);\n                         \n            //stage.setChildIndex( displayObject, stage.getNumChildren()-1);\n            this._scoreOverlay = new createjs.Bitmap(assets.getResult(\"ScoreOverlay\"));\n            this._scoreOverlay.x = config.Screen.WIDTH/2 - (this._scoreOverlay.getBounds().width/2);\n            this._scoreOverlay.y = 10;\n            this.addChild(this._scoreOverlay);            \n\n            //Add _scoreText to the scene\n            this._livesWord = new objects.Label(\"LIVES: \",\n                \"bold 25px Finger Paint\",\n                \"#0434C4\",\n                15, 25, false);\n            //this._livesText.textAlign = \"right\";\n            this.addChild(this._livesWord);\n\n            //Add _livesText to the scene\n            this._livesText = new objects.Label(\"LIVES: \" +\n                gameController.LivesValue.toString(),\n                \"bold 25px Finger Paint\",\n                \"#0434C4\",\n                100, 25, false);\n            //this._livesText.textAlign = \"right\";\n            this.addChild(this._livesText);\n\n            //Add _scoreText to the scene\n            this.scoreWord = new objects.Label(\"SCORE: \",\n                \"bold 25px Finger Paint\",\n                \"#0434C4\",\n                870, 25, false);\n            //this._livesText.textAlign = \"right\";\n            this.addChild(this.scoreWord);\n\n            this.scoreText = new objects.Label(\"SCORE: \" +\n                gameController.ScoreValue.toString(),\n                \"bold 25px Finger Paint\",\n                \"#0434C4\",\n                970, 25, false);\n                \n            this.addChild(this.scoreText);\n            \n            this._playBackgroundSound();\n            \n            \n            \n\n        }\n        \n        private _playBackgroundSound(): void{\n            this._bgSound = createjs.Sound.play(\"gameBgMusic\", {volume: 0.002});\n            this._bgSound.on(\"complete\",this._playBackgroundSound,this);\n        }\n\n\n        // PLAY Scene updates here\n        public update(): void {\n            \n            this.checkControls();\n            \n            this._backGround.update();\n\n            this._player.update();\n\n            this._dragonEnemy1.forEach(dragon => {\n                dragon.update();\n                this._playerCollision.check(dragon);\n            });\n\n            this._dragonEnemy2.forEach(dragon => {\n                dragon.update();\n                this._playerCollision.check(dragon);\n            });\n\n            this._eggs.forEach(egg => {\n                egg.update();\n                this._playerCollision.check(egg);\n            });\n\n            this.scoreText.text = gameController.ScoreValue.toString();\n            this._livesText.text = gameController.LivesValue.toString();\n\n            this._checkLives();\n            this._changeGameLevel();\n\n        }\n\n        //PRIVATE METHODS\n        private _checkLives(): void {\n            if (gameController.LivesValue <= 0) {\n                scene = config.Scene.END;\n                changeScene();\n            }\n        }\n\n        // Move to Level 2\n        private _changeGameLevel(): void {\n\n            if (this._backGround.backgroundResetCount > 1) {\n                //Remove the enemy from\n                this._enemyContainer.removeAllChildren();\n                this._collectableContainer.removeAllChildren();\n                stage.removeChild(this._enemyContainer, this._collectableContainer);\n\n                scene = config.Scene.LEVEL2;\n                changeScene();\n            }\n        }\n        \n        private checkControls(): void {\n            //reset music from previous screen\n              \n            if (keyboardControls.changeToLevel1) {\n                scene = config.Scene.LEVEL1;\n                changeScene();\n            }\n            if (keyboardControls.changeToLevel2) {\n                scene = config.Scene.LEVEL2;\n                changeScene();\n            }\n            if (keyboardControls.changeToLevel3) {\n                scene = config.Scene.LEVEL3;\n                changeScene();\n            }\n        }\n\n        //EVENT HANDLERS ++++++++++++++++++++\n        \n        \n\n    }\n}"],"sourceRoot":"/source/"}