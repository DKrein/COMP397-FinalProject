{"version":3,"sources":["scenes/level2.ts"],"names":[],"mappings":"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","file":"scenes/level2.js","sourcesContent":["/*\nAuthor: Christine Cho, Douglas Krein, Francis Ofougwuka\nLast Modified by: Christine Cho\nLast Modified: 03/28/2016\nFile description: Manages the play scene\n\nRevision:\n1. Added score and lives label\n2. Added score counter based on collision\n3. Added live checker to transition to gameover\n*/\n\n// LEVEL2 SCENE\nmodule scenes {\n    export class Level2 extends objects.Scene {\n\n        public scoreWord: objects.Label;\n        public scoreText: objects.Label;\n        public resetCount: number;\n\n        //PRIVATE INSTANCE VARIABLES ++++++++++++\n        private _sky: objects.Sky;\n        private _fire: objects.Fire;\n        private _fireball: objects.Fireball[];\n        private _fireballCount: number;\n        private _dragonX: objects.DragonX[];\n        private _dragonXCount: number;\n        private _stalactite: objects.Stalactites;\n        private _stalagmite: objects.Stalagmites;\n        private _player: objects.Player;\n        private _collision: managers.Collision;\n        private _enemyContainer: createjs.Container;\n        private _collectableContainer: createjs.Container;\n        private _playerFireball: objects.PlayerFireball;\n\n        private _livesWord: objects.Label;\n        private _livesText: objects.Label;\n\n        // CONSTRUCTOR ++++++++++++++++++++++\n        constructor() {\n            super();\n\n        } \n\n        // PUBLIC METHODS +++++++++++++++++++++\n\n        // Start Method\n        public start(): void {\n            \n            \n            this._enemyContainer = new createjs.Container;\n            this._collectableContainer = new createjs.Container;\n\n            // Set _fireballCount Count\n            this._fireballCount = 1;\n            this._dragonXCount = 1;\n\n            // Instantiate _fireball array\n            this._fireball = new Array<objects.Fireball>();\n            this._dragonX = new Array<objects.DragonX>();\n\n            // added _sky to the scene\n            this._sky = new objects.Sky(\"cave\");\n            this.addChild(this._sky);\n\n            // added _fire to the scene\n            this._fire = new objects.Fire();\n            //this.addChild(this._fire);\n            this._collectableContainer.addChild(this._fire);\n            \n            //added stalactites to the scene\n            this._stalactite = new objects.Stalactites();\n            this._enemyContainer.addChild(this._stalactite);\n            \n            //added stalactites to the scene\n            this._stalagmite = new objects.Stalagmites();\n            this._enemyContainer.addChild(this._stalagmite);\n\n            // added player to the scene\n            this._player = new objects.Player();\n            this.addChild(this._player);\n\n            //added _fireball to the scene\n            for (var ball: number = 0; ball < this._fireballCount; ball++) {\n                this._fireball[ball] = new objects.Fireball();\n                //this.addChild(this._fireball[ball]);\n                this._enemyContainer.addChild(this._fireball[ball]);\n            }\n\n            for (var dragon: number = 0; dragon < this._dragonXCount; dragon++) {\n                this._dragonX[dragon] = new objects.DragonX();\n                //this.addChild(this._dragonX[dragon]);\n                this._enemyContainer.addChild(this._dragonX[dragon]);\n            }\n            \n            this._playerFireball = new objects.PlayerFireball(this._player);\n            this.addChild(this._playerFireball);\n\n            // added collision manager to the scene\n            this._collision = new managers.Collision(this._player);\n\n            // add this scene to the global stage container\n            stage.addChild(this, this._enemyContainer, this._collectableContainer);\n            \n            // add stage click Listener\n            stage.on(\"stagemousedown\", this._stageClickHandler)\n\n            //Add _scoreText to the scene\n            this._livesWord = new objects.Label(\"LIVES: \",\n                \"bold 25px Britannic Bold\",\n                \"#0434C4\",\n                15, 15, false);\n            //this._livesText.textAlign = \"right\";\n            this.addChild(this._livesWord);\n\n            //Add _livesText to the scene\n            this._livesText = new objects.Label(\"LIVES: \" +\n                gameController.LivesValue.toString(),\n                \"bold 25px Britannic Bold\",\n                \"#0434C4\",\n                100, 15, false);\n            //this._livesText.textAlign = \"right\";\n            this.addChild(this._livesText);\n\n            //Add _scoreText to the scene\n            this.scoreWord = new objects.Label(\"SCORE: \",\n                \"bold 25px Britannic Bold\",\n                \"#0434C4\",\n                500, 15, false);\n            //this._livesText.textAlign = \"right\";\n            this.addChild(this.scoreWord);\n\n            this.scoreText = new objects.Label(\"SCORE: \" +\n                gameController.ScoreValue.toString(),\n                \"bold 25px Britannic Bold\",\n                \"#0434C4\",\n                600, 15, false);\n            //this._livesText.textAlign = \"right\";\n            this.addChild(this.scoreText);\n\n        }\n\n        // PLAY Scene updates here\n        public update(): void {\n            this._sky.update();\n            this._fire.update();\n            this._stalactite.update();\n            this._stalagmite.update();\n\n            this._player.update();\n            this._playerFireball.update();\n\n            this._fireball.forEach(ball => {\n                ball.update();\n                this._collision.check(ball);\n            });\n\n            this._dragonX.forEach(dragon => {\n                dragon.update();\n                this._collision.check(dragon);\n            });\n\n            this._collision.check(this._fire);\n            this.scoreText.text = gameController.ScoreValue.toString();\n            this._livesText.text = gameController.LivesValue.toString();\n            this._checkLives();\n            this._changeGameLevel();\n\n        }\n\n        //PRIVATE METHODS\n        private _checkLives(): void {\n            if (gameController.LivesValue <= 0) {\n                scene = config.Scene.END;\n                changeScene();\n            }\n        }\n        \n        // Move to Level 3\n        private _changeGameLevel(): void {\n\n            if (this._sky.skyResetCount > 5) {\n                //Remove the enemy from\n                this._enemyContainer.removeAllChildren();\n                this._collectableContainer.removeAllChildren();\n                stage.removeChild(this._enemyContainer, this._collectableContainer);\n                console.log(\"Call next level3\");\n            }\n        }\n\n        //EVENT HANDLERS ++++++++++++++++++++\n        \n        private _stageClickHandler(event: createjs.MouseEvent){\n            console.log(\"Stage clicked\");\n            this._playerFireball.PositionFireBall();\n        }\n\n    }\n}"],"sourceRoot":"/source/"}